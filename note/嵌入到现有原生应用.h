åµŒå…¥åˆ°ç°æœ‰åŸç”Ÿåº”ç”¨
åœ¨GitHubä¸Šä¿®æ”¹è¿™ç¯‡æ–‡æ¡£
æ”¯æŒæˆ‘ä»¬
å¹³å°: Objective-C Swift Android

æ ¸å¿ƒæ¦‚å¿µ
å¦‚æœä½ æ­£å‡†å¤‡ä»å¤´å¼€å§‹åˆ¶ä½œä¸€ä¸ªæ–°çš„åº”ç”¨ï¼Œé‚£ä¹ˆReact Nativeä¼šæ˜¯ä¸ªéå¸¸å¥½çš„é€‰æ‹©ã€‚ä½†å¦‚æœä½ åªæƒ³ç»™ç°æœ‰çš„åŸç”Ÿåº”ç”¨ä¸­æ·»åŠ ä¸€ä¸¤ä¸ªè§†å›¾æˆ–æ˜¯ä¸šåŠ¡æµç¨‹ï¼ŒReact Nativeä¹ŸåŒæ ·ä¸åœ¨è¯ä¸‹ã€‚åªéœ€ç®€å•å‡ æ­¥ï¼Œä½ å°±å¯ä»¥ç»™åŸæœ‰åº”ç”¨åŠ ä¸Šæ–°çš„åŸºäºReact Nativeçš„ç‰¹æ€§ã€ç”»é¢å’Œè§†å›¾ç­‰ã€‚

æŠŠReact Nativeç»„ä»¶æ¤å…¥åˆ°iOSåº”ç”¨ä¸­æœ‰å¦‚ä¸‹å‡ ä¸ªä¸»è¦æ­¥éª¤ï¼š

é¦–å…ˆå½“ç„¶è¦äº†è§£ä½ è¦æ¤å…¥çš„React Nativeç»„ä»¶ã€‚
åˆ›å»ºä¸€ä¸ªPodfileï¼Œåœ¨å…¶ä¸­ä»¥subspecçš„å½¢å¼å¡«å†™æ‰€æœ‰ä½ è¦æ¤å…¥çš„React Nativeçš„ç»„ä»¶ã€‚
åˆ›å»ºjsæ–‡ä»¶ï¼Œç¼–å†™React Nativeç»„ä»¶çš„jsä»£ç ã€‚
æ·»åŠ ä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªRCTRootViewã€‚è¿™ä¸ªRCTRootViewæ­£æ˜¯ç”¨æ¥æ‰¿è½½ä½ çš„React Nativeç»„ä»¶çš„ï¼Œè€Œä¸”å®ƒå¿…é¡»å¯¹åº”ä½ åœ¨index.ios.jsä¸­ä½¿ç”¨AppRegistryæ³¨å†Œçš„æ¨¡å—åå­—ã€‚
å¯åŠ¨React Nativeçš„PackageræœåŠ¡ï¼Œè¿è¡Œåº”ç”¨ã€‚
æ ¹æ®éœ€è¦æ·»åŠ æ›´å¤šReact Nativeçš„ç»„ä»¶ã€‚
è°ƒè¯•ã€‚
å‡†å¤‡éƒ¨ç½²å‘å¸ƒ ï¼ˆæ¯”å¦‚å¯ä»¥åˆ©ç”¨react-native-xcode.shè„šæœ¬ï¼‰ã€‚
å‘å¸ƒåº”ç”¨ï¼Œå‡èŒåŠ è–ªï¼Œèµ°å‘äººç”Ÿå·…å³°ï¼ğŸ˜˜
å¼€å‘ç¯å¢ƒå‡†å¤‡
åŸºç¡€ç¯å¢ƒ
é¦–å…ˆæŒ‰ç…§å¼€å‘ç¯å¢ƒæ­å»ºæ•™ç¨‹æ¥å®‰è£…React Nativeåœ¨iOSå¹³å°ä¸Šæ‰€éœ€çš„ä¸€åˆ‡ä¾èµ–è½¯ä»¶ï¼ˆæ¯”å¦‚npmï¼‰ã€‚

CocoaPods
CocoaPodsæ˜¯é’ˆå¯¹iOSå’ŒMacå¼€å‘çš„åŒ…ç®¡ç†å·¥å…·ã€‚æˆ‘ä»¬ç”¨å®ƒæ¥æŠŠReact Nativeæ¡†æ¶çš„ä»£ç ä¸‹è½½ä¸‹æ¥å¹¶æ·»åŠ åˆ°ä½ å½“å‰çš„é¡¹ç›®ä¸­ã€‚

$ sudo gem install cocoapods
ä»æŠ€æœ¯ä¸Šæ¥è®²ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥è·³è¿‡CocoaPodsï¼Œä½†æ˜¯è¿™æ ·ä¸€æ¥æˆ‘ä»¬å°±éœ€è¦æ‰‹å·¥æ¥å®Œæˆå¾ˆå¤šé…ç½®é¡¹ã€‚CocoaPodså¯ä»¥å¸®æˆ‘ä»¬å®Œæˆè¿™äº›ç¹ççš„å·¥ä½œã€‚
ç¤ºä¾‹App
åœ¨æœ¬æ•™ç¨‹ä¸­æˆ‘ä»¬ç”¨äºç¤ºèŒƒçš„appæ˜¯ä¸€ä¸ª2048ç±»å‹çš„æ¸¸æˆã€‚ ä¸‹é¢æ˜¯è¿™ä¸ªæ¸¸æˆè¿˜æ²¡æœ‰æ¤å…¥React Nativeæ—¶çš„ä¸»ç•Œé¢ï¼š

Before RN Integration

ä¾èµ–åŒ…
React Nativeçš„æ¤å…¥è¿‡ç¨‹åŒæ—¶éœ€è¦Reactå’ŒReact Nativeä¸¤ä¸ªnodeä¾èµ–åŒ…ã€‚

package.json
æˆ‘ä»¬æŠŠå…·ä½“çš„ä¾èµ–åŒ…è®°å½•åœ¨package.jsonæ–‡ä»¶ä¸­ã€‚å¦‚æœé¡¹ç›®æ ¹ç›®å½•ä¸­æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œé‚£å°±è‡ªå·±åˆ›å»ºä¸€ä¸ªã€‚

å¯¹äºä¸€ä¸ªå…¸å‹çš„React Nativeé¡¹ç›®æ¥è¯´ï¼Œä¸€èˆ¬package.jsonå’Œindex.ios.jsç­‰æ–‡ä»¶ä¼šæ”¾åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ã€‚è€ŒiOSç›¸å…³çš„åŸç”Ÿä»£ç ä¼šæ”¾åœ¨ä¸€ä¸ªåä¸ºios/çš„å­ç›®å½•ä¸­,è¿™é‡Œä¹ŸåŒæ—¶æ”¾ç€ä½ çš„Xcodeé¡¹ç›®æ–‡ä»¶ï¼ˆ.xcodeprojï¼‰ã€‚
ä¸‹é¢æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„package.jsonçš„å†…å®¹ç¤ºä¾‹ã€‚

ç¤ºä¾‹ä¸­çš„versionå­—æ®µæ²¡æœ‰å¤ªå¤§æ„ä¹‰ï¼ˆé™¤éä½ è¦æŠŠä½ çš„é¡¹ç›®å‘å¸ƒåˆ°npmä»“åº“ï¼‰ã€‚scriptsä¸­æ˜¯ç”¨äºå¯åŠ¨packageræœåŠ¡çš„å‘½ä»¤ã€‚dependenciesä¸­çš„reactå’Œreact-nativeçš„ç‰ˆæœ¬å–å†³äºä½ çš„å…·ä½“éœ€æ±‚ã€‚ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬æ¨èä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ã€‚ä½ å¯ä»¥ä½¿ç”¨npm info reactå’Œnpm info react-nativeæ¥æŸ¥çœ‹å½“å‰çš„æœ€æ–°ç‰ˆæœ¬ã€‚å¦å¤–ï¼Œreact-nativeå¯¹reactçš„ç‰ˆæœ¬æœ‰ä¸¥æ ¼è¦æ±‚ï¼Œé«˜äºæˆ–ä½äºæŸä¸ªèŒƒå›´éƒ½ä¸å¯ä»¥ã€‚æœ¬æ–‡æ— æ³•åœ¨è¿™é‡Œåˆ—å‡ºæ‰€æœ‰react nativeå’Œå¯¹åº”çš„reactç‰ˆæœ¬è¦æ±‚ï¼Œåªèƒ½æé†’è¯»è€…å…ˆå°è¯•æ‰§è¡Œnpm installï¼Œç„¶åæ³¨æ„è§‚å¯Ÿå®‰è£…è¿‡ç¨‹ä¸­çš„æŠ¥é”™ä¿¡æ¯ï¼Œä¾‹å¦‚require react@æŸ.æŸ.æŸç‰ˆæœ¬, but none was installedï¼Œç„¶åæ ¹æ®è¿™æ ·çš„æç¤ºï¼Œæ‰§è¡Œnpm i -S react@æŸ.æŸ.æŸç‰ˆæœ¬ã€‚
{
    "name": "NumberTileGame",
    "version": "0.0.1",
    "private": true,
    "scripts": {
        "start": "node node_modules/react-native/local-cli/cli.js start"
    },
    "dependencies": {
        "react": "15.4.1",
        "react-native": "0.39.2"
    }
}
å®‰è£…ä¾èµ–åŒ…
ä½¿ç”¨npmï¼ˆnodeåŒ…ç®¡ç†å™¨ï¼ŒNode package managerï¼‰æ¥å®‰è£…Reactå’ŒReact Nativeæ¨¡å—ã€‚è¿™äº›æ¨¡å—ä¼šè¢«å®‰è£…åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„node_modules/ç›®å½•ä¸­ã€‚ åœ¨åŒ…å«æœ‰package.jsonæ–‡ä»¶çš„ç›®å½•ï¼ˆä¸€èˆ¬ä¹Ÿå°±æ˜¯é¡¹ç›®æ ¹ç›®å½•ï¼‰ä¸­è¿è¡Œä¸‹åˆ—å‘½ä»¤æ¥å®‰è£…ï¼š

$ npm install
React Nativeæ¡†æ¶
React Nativeæ¡†æ¶æ•´ä½“æ˜¯ä½œä¸ºnodeæ¨¡å—å®‰è£…åˆ°é¡¹ç›®ä¸­çš„ã€‚ä¸‹ä¸€æ­¥æˆ‘ä»¬éœ€è¦åœ¨CocoaPodsçš„Podfileä¸­æŒ‡å®šæˆ‘ä»¬æ‰€éœ€è¦ä½¿ç”¨çš„ç»„ä»¶ã€‚

Subspecs
åœ¨ä½ å¼€å§‹æŠŠReact Nativeæ¤å…¥åˆ°ä½ çš„åº”ç”¨ä¸­ä¹‹å‰ï¼Œé¦–å…ˆè¦å†³å®šå…·ä½“æ•´åˆçš„æ˜¯React Nativeæ¡†æ¶ä¸­çš„å“ªäº›éƒ¨åˆ†ã€‚è€Œè¿™å°±æ˜¯subspecè¦åšçš„å·¥ä½œã€‚åœ¨åˆ›å»ºPodfileæ–‡ä»¶çš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å®šå…·ä½“å®‰è£…å“ªäº›React Nativeçš„ä¾èµ–åº“ã€‚æ‰€æŒ‡å®šçš„æ¯ä¸€ä¸ªåº“å°±ç§°ä¸ºä¸€ä¸ªsubspecã€‚

å¯ç”¨çš„subspecéƒ½åˆ—åœ¨node_modules/react-native/React.podspecä¸­ï¼ŒåŸºæœ¬éƒ½æ˜¯æŒ‰å…¶åŠŸèƒ½å‘½åçš„ã€‚ä¸€èˆ¬æ¥è¯´ä½ é¦–å…ˆéœ€è¦æ·»åŠ Coreï¼Œè¿™ä¸€subspecåŒ…å«äº†å¿…é¡»çš„AppRegistryã€StyleSheetã€Viewä»¥åŠå…¶ä»–çš„ä¸€äº›React Nativeæ ¸å¿ƒåº“ã€‚å¦‚æœä½ æƒ³ä½¿ç”¨React Nativeçš„Textåº“ï¼ˆå³<Text>ç»„ä»¶ï¼‰ï¼Œé‚£å°±éœ€è¦æ·»åŠ RCTTextçš„subspecã€‚åŒç†ï¼ŒImageéœ€è¦åŠ å…¥RCTImageï¼Œç­‰ç­‰ã€‚

Podfile

åœ¨Reactå’ŒReact Nativeæ¨¡å—æˆåŠŸå®‰è£…åˆ°node_modulesç›®å½•ä¹‹åï¼Œä½ å°±å¯ä»¥å¼€å§‹åˆ›å»ºPodfileä»¥ä¾¿é€‰æ‹©æ‰€éœ€çš„ç»„ä»¶å®‰è£…åˆ°åº”ç”¨ä¸­ã€‚

åˆ›å»ºPodfileçš„æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯åœ¨iOSåŸç”Ÿä»£ç æ‰€åœ¨çš„ç›®å½•ä¸­ä½¿ç”¨CocoaPodsçš„initå‘½ä»¤ï¼š

## åœ¨iOSåŸç”Ÿä»£ç æ‰€åœ¨çš„ç›®å½•ä¸­ï¼ˆä¹Ÿå°±æ˜¯`.xcodeproj`æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼‰æ‰§è¡Œï¼š
$ pod init
Podfileä¼šåˆ›å»ºåœ¨æ‰§è¡Œå‘½ä»¤çš„ç›®å½•ä¸­ã€‚ä½ éœ€è¦è°ƒæ•´å…¶å†…å®¹ä»¥æ»¡è¶³ä½ çš„æ¤å…¥éœ€æ±‚ã€‚è°ƒæ•´åçš„Podfileçš„å†…å®¹çœ‹èµ·æ¥ç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š

# targetçš„åå­—ä¸€èˆ¬ä¸ä½ çš„é¡¹ç›®åå­—ç›¸åŒ
target 'NumberTileGame' do

# 'node_modules'ç›®å½•ä¸€èˆ¬ä½äºæ ¹ç›®å½•ä¸­
# ä½†æ˜¯å¦‚æœä½ çš„ç»“æ„ä¸åŒï¼Œé‚£ä½ å°±è¦æ ¹æ®å®é™…è·¯å¾„ä¿®æ”¹ä¸‹é¢çš„`:path`
pod 'React', :path => '../node_modules/react-native', :subspecs => [
                                                                    'Core',
                                                                    'RCTText',
                                                                    'RCTNetwork',
                                                                    'RCTWebSocket', # è¿™ä¸ªæ¨¡å—æ˜¯ç”¨äºè°ƒè¯•åŠŸèƒ½çš„
# åœ¨è¿™é‡Œç»§ç»­æ·»åŠ ä½ æ‰€éœ€è¦çš„æ¨¡å—
                                                                    ]

end
Podå®‰è£…

åˆ›å»ºå¥½äº†Podfileåï¼Œå°±å¯ä»¥å¼€å§‹å®‰è£…React Nativeçš„podåŒ…äº†ã€‚

$ pod install
ç„¶åä½ åº”è¯¥å¯ä»¥çœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„è¾“å‡º(è¯‘æ³¨ï¼šåŒæ ·ç”±äºä¼—æ‰€å‘¨çŸ¥çš„ç½‘ç»œåŸå› ï¼Œpod installçš„è¿‡ç¨‹åœ¨å›½å†…éå¸¸ä¸é¡ºåˆ©ï¼Œè¯·è‡ªè¡Œé…å¤‡ç¨³å®šçš„ç¿»å¢™å·¥å…·ï¼Œæˆ–æ˜¯å°è¯•ä¸€äº›é•œåƒæº)ï¼š

Analyzing dependencies
Fetching podspec for `React` from `../node_modules/react-native`
Downloading dependencies
Installing React (0.26.0)
Generating Pods project
Integrating client project
Sending stats
Pod installation complete! There are 3 dependencies from the Podfile and 1 total pod installed.
ä»£ç é›†æˆ
ç°åœ¨æˆ‘ä»¬å·²ç»å‡†å¤‡å¥½äº†æ‰€æœ‰ä¾èµ–ï¼Œå¯ä»¥å¼€å§‹ç€æ‰‹ä¿®æ”¹åŸç”Ÿä»£ç æ¥æŠŠReact NativeçœŸæ­£æ¤å…¥åˆ°åº”ç”¨ä¸­äº†ã€‚åœ¨æˆ‘ä»¬çš„2048ç¤ºä¾‹ä¸­ï¼Œé¦–å…ˆå°è¯•æ·»åŠ ä¸€ä¸ªæ˜¾ç¤ºæœ‰"High Score"ï¼ˆå¾—åˆ†æ’è¡Œæ¦œï¼‰çš„React Nativeé¡µé¢ã€‚

React Nativeç»„ä»¶
æˆ‘ä»¬é¦–å…ˆè¦å†™çš„æ˜¯"High Score"ï¼ˆå¾—åˆ†æ’è¡Œæ¦œï¼‰çš„JavaScriptç«¯çš„ä»£ç ã€‚

åˆ›å»ºä¸€ä¸ªindex.ios.jsæ–‡ä»¶

é¦–å…ˆåˆ›å»ºä¸€ä¸ªç©ºçš„index.ios.jsæ–‡ä»¶ã€‚ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬æŠŠå®ƒæ”¾ç½®åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ã€‚

index.ios.jsæ˜¯React Nativeåº”ç”¨åœ¨iOSä¸Šçš„å…¥å£æ–‡ä»¶ã€‚è€Œä¸”å®ƒæ˜¯ä¸å¯æˆ–ç¼ºçš„ï¼å®ƒå¯ä»¥æ˜¯ä¸ªå¾ˆç®€å•çš„æ–‡ä»¶ï¼Œç®€å•åˆ°å¯ä»¥åªåŒ…å«ä¸€è¡Œrequire/importå¯¼å…¥è¯­å¥ã€‚æœ¬æ•™ç¨‹ä¸­ä¸ºäº†ç®€å•ç¤ºèŒƒï¼ŒæŠŠå…¨éƒ¨çš„ä»£ç éƒ½å†™åˆ°äº†index.ios.jsé‡Œï¼ˆå½“ç„¶å®é™…å¼€å‘ä¸­æˆ‘ä»¬å¹¶ä¸æ¨èè¿™æ ·åšï¼‰ã€‚
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºæ–‡ä»¶ï¼š
$ touch index.ios.js
æ·»åŠ ä½ è‡ªå·±çš„React Nativeä»£ç 

åœ¨index.ios.jsä¸­æ·»åŠ ä½ è‡ªå·±çš„ç»„ä»¶ã€‚è¿™é‡Œæˆ‘ä»¬åªæ˜¯ç®€å•çš„æ·»åŠ ä¸€ä¸ª<Text>ç»„ä»¶ï¼Œç„¶åç”¨ä¸€ä¸ªå¸¦æœ‰æ ·å¼çš„<View>ç»„ä»¶æŠŠå®ƒåŒ…èµ·æ¥ã€‚

'use strict';

import React from 'react';
import {
    AppRegistry,
    StyleSheet,
    Text,
    View
} from 'react-native';

class RNHighScores extends React.Component {
    render() {
        var contents = this.props["scores"].map(
                                                score => <Text key={score.name}>{score.name}:{score.value}{"\n"}</Text>
                                                );
        return (
                <View style={styles.container}>
                <Text style={styles.highScoresTitle}>
                2048 High Scores!
                </Text>
                <Text style={styles.scores}>
                {contents}
                </Text>
                </View>
                );
    }
}

const styles = StyleSheet.create({
container: {
flex: 1,
justifyContent: 'center',
alignItems: 'center',
backgroundColor: '#FFFFFF',
},
highScoresTitle: {
fontSize: 20,
textAlign: 'center',
margin: 10,
},
scores: {
textAlign: 'center',
color: '#333333',
marginBottom: 5,
},
});

// æ•´ä½“jsæ¨¡å—çš„åç§°
AppRegistry.registerComponent('RNHighScores', () => RNHighScores);
RNHighScoresæ˜¯æ•´ä½“jsæ¨¡å—ï¼ˆå³ä½ æ‰€æœ‰çš„jsä»£ç ï¼‰çš„åç§°ã€‚ä½ åœ¨iOSåŸç”Ÿä»£ç ä¸­æ·»åŠ React Nativeè§†å›¾æ—¶ä¼šç”¨åˆ°è¿™ä¸ªåç§°ã€‚
The Magic: RCTRootView
ç°åœ¨æˆ‘ä»¬å·²ç»åœ¨index.ios.jsä¸­åˆ›å»ºäº†React Nativeç»„ä»¶ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯æŠŠè¿™ä¸ªç»„ä»¶æ·»åŠ ç»™ä¸€ä¸ªæ–°çš„æˆ–å·²æœ‰çš„ViewControllerã€‚ The easiest path to take is to optionally create an event path to your component and then add that component to an existing ViewController.

We will tie our React Native component with a new native view in the ViewController that will actually host it called RCTRootView .

Create an Event Path
You can add a new link on the main game menu to go to the "High Score" React Native page.

Event Path

äº‹ä»¶å¤„ç†

We will now add an event handler from the menu link. A method will be added to the main ViewController of your application. This is where RCTRootView comes into play.

When you build a React Native application, you use the React Native packager to create an index.ios.bundle that will be served by the React Native server. Inside index.ios.bundle will be our RNHighScore module. So, we need to point our RCTRootView to the location of the index.ios.bundle resource (via NSURL) and tie it to the module.

We will, for debugging purposes, log that the event handler was invoked. Then, we will create a string with the location of our React Native code that exists inside the index.ios.bundle. Finally, we will create the main RCTRootView. Notice how we provide RNHighScores as the moduleName that we created above when writing the code for our React Native component.

é¦–å…ˆå¯¼å…¥RCTRootViewçš„å¤´æ–‡ä»¶ã€‚

#import "RCTRootView.h"
è¿™é‡Œçš„initialProperties are here for illustration purposes so we have some data for our high score screen. In our React Native component, we will use this.props to get access to that data.
- (IBAction)highScoreButtonPressed:(id)sender {
    NSLog(@"High Score Button Pressed");
    NSURL *jsCodeLocation = [NSURL
                             URLWithString:@"http://localhost:8081/index.ios.bundle?platform=ios"];
    RCTRootView *rootView =
    [[RCTRootView alloc] initWithBundleURL : jsCodeLocation
                         moduleName        : @"RNHighScores"
                         initialProperties :
     @{
       @"scores" : @[
               @{
                   @"name" : @"Alex",
                   @"value": @"42"
                   },
               @{
                   @"name" : @"Joel",
                   @"value": @"10"
                   }
               ]
       }
                          launchOptions    : nil];
    UIViewController *vc = [[UIViewController alloc] init];
    vc.view = rootView;
    [self presentViewController:vc animated:YES completion:nil];
}
Note that RCTRootView initWithURL starts up a new JSC VM. To save resources and simplify the communication between RN views in different parts of your native app, you can have multiple views powered by React Native that are associated with a single JS runtime. To do that, instead of using [RCTRootView alloc] initWithURL, use RCTBridge initWithBundleURL to create a bridge and then use RCTRootView initWithBridge.
When moving your app to production, the NSURL can point to a pre-bundled file on disk via something like [[NSBundle mainBundle] URLForResource:@"main" withExtension:@"jsbundle"];. You can use the react-native-xcode.sh script in node_modules/react-native/packager/ to generate that pre-bundled file.
Wire Up

Wire up the new link in the main menu to the newly added event handler method.

Event Path

One of the easier ways to do this is to open the view in the storyboard and right click on the new link. Select something such as the Touch Up Inside event, drag that to the storyboard and then select the created method from the list provided.
æµ‹è¯•æ¤å…¥ç»“æœ
You have now done all the basic steps to integrate React Native with your current application. Now we will start the React Native packager to build the index.ios.bundle packager and the server running on localhost to serve it.

App Transport Security
Apple has blocked implicit cleartext HTTP resource loading. So we need to add the following our project's Info.plist (or equivalent) file.

<key>NSAppTransportSecurity</key>
<dict>
<key>NSExceptionDomains</key>
<dict>
<key>localhost</key>
<dict>
<key>NSTemporaryExceptionAllowsInsecureHTTPLoads</key>
<true/>
</dict>
</dict>
</dict>
è¿è¡ŒPackager
# From the root of your project, where the `node_modules` directory is located.
$ npm start
è¿è¡Œåº”ç”¨
å¦‚æœä½ ä½¿ç”¨çš„æ˜¯Xcodeï¼Œé‚£ä¹ˆç…§å¸¸ç¼–è¯‘å’Œè¿è¡Œåº”ç”¨å³å¯ã€‚å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨Xcodeï¼ˆä½†æ˜¯ä½ ä»ç„¶å¿…é¡»å®‰è£…Xcodeï¼‰ï¼Œåˆ™å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥è¿è¡Œåº”ç”¨ï¼š

# åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­æ‰§è¡Œï¼š
$ react-native run-ios
In our sample application, you should see the link to the "High Scores" and then when you click on that you will see the rendering of your React Native component.

Here is the native application home screen:

Home Screen

Here is the React Native high score screen:

High Scores

If you are getting module resolution issues when running your application please see this GitHub issue for information and possible resolution. This comment seemed to be the latest possible resolution.
çœ‹ä¸€ä¸‹å®Œæ•´çš„ä»£ç å˜æ›´
ä½ å¯ä»¥åœ¨è¿™ä¸ªGitHubæäº¤è®°å½•é‡ŒæŸ¥çœ‹ä¸€æ¬¡å®Œæ•´çš„æ¤å…¥è¿‡ç¨‹å…·ä½“æœ‰å“ªäº›ä»£ç /æ–‡ä»¶å˜æ›´ã€‚
